<!DOCTYPE html>
<html>
    <head>
        <title>Popup example</title>
        <script src="js/jquery-1.11.3.min.js"></script>
        <link rel="stylesheet" href="css/bootstrap.min.css">
        <script src="js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="css/ol.css" type="text/css">
        <script src="js/ol.js"></script>
        <link rel="stylesheet" href="css/popup.css">
    </head>
    <body>
        <div class="container-fluid">

            <div class="row-fluid">
                <div class="span12">
                    <div id="map" class="map"></div>
                    <div id="popup" class="ol-popup">
                        <a href="#" id="popup-closer" class="ol-popup-closer"></a>
                        <div id="popup-content"></div>
                    </div>
                </div>
            </div>

        </div>
        <script>
            /**
             * Elements that make up the popup.
             */
            var container = document.getElementById('popup');
            var content = document.getElementById('popup-content');
            var closer = document.getElementById('popup-closer');


            /**
             * Add a click handler to hide the popup.
             * @return {boolean} Don't follow the href.
             */
            closer.onclick = function () {
                overlay.setPosition(undefined);
                closer.blur();
                return false;
            };


            /**
             * Create an overlay to anchor the popup to the map.
             */
            var overlay = new ol.Overlay(/** @type {olx.OverlayOptions} */ ({
                element: container,
                autoPan: true,
                autoPanAnimation: {
                    duration: 250
                }
            }));




            map = new ol.Map({

                target: 'map',
                     renderer: 'canvas',
                overlays: [overlay],
                view: new ol.View({
                    projection: 'EPSG:900913',
                    center: [-5193252.61684, -2698365.38923],
                    zoom: 18
                })
            });

            var openStreetMapLayer = new ol.layer.Tile({
                source: new ol.source.OSM()
            });

            map.addLayer(openStreetMapLayer);

//            var map = new ol.Map({
//                layers: [
//                    new ol.layer.Tile({
//                        source: new ol.source.TileJSON({
//                            url: 'http://api.tiles.mapbox.com/v3/' +
//                                    'mapbox.natural-earth-hypso-bathy.jsonp',
//                            crossOrigin: 'anonymous'
//                        })
//                    })
//                ],
//                overlays: [overlay],
//                target: 'map',
//                view: new ol.View({
//                    center: [0, 0],
//                    zoom: 2
//                })
//            });


            map.on('singleclick', function (evt) {
                var coordinate = evt.coordinate;
                var hdms = ol.coordinate.toStringHDMS(ol.proj.transform(
                        coordinate, 'EPSG:3857', 'EPSG:4326'));

                content.innerHTML = '<p>You clicked here:</p><code>' + hdms +
                        '</code>';
                overlay.setPosition(coordinate);
            });

        </script>
    </body>
</html>